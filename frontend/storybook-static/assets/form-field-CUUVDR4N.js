import{r as u}from"./index-Dm8qopDP.js";import{j as x}from"./jsx-runtime-CmtfZKef.js";import{a as h}from"./index-oz-OHGNu.js";import{u as b}from"./index-LbsB4HyV.js";import{L as M}from"./label-C8l1P-i-.js";import{c as O}from"./utils-CytzSlOG.js";function q(e,n=[]){let t=[];function o(d,i){const c=u.createContext(i),a=t.length;t=[...t,i];const s=l=>{var A;const{scope:f,children:m,...N}=l,v=((A=f==null?void 0:f[e])==null?void 0:A[a])||c,y=u.useMemo(()=>N,Object.values(N));return x.jsx(v.Provider,{value:y,children:m})};s.displayName=d+"Provider";function p(l,f){var v;const m=((v=f==null?void 0:f[e])==null?void 0:v[a])||c,N=u.useContext(m);if(N)return N;if(i!==void 0)return i;throw new Error(`\`${l}\` must be used within \`${d}\``)}return[s,p]}const r=()=>{const d=t.map(i=>u.createContext(i));return function(c){const a=(c==null?void 0:c[e])||d;return u.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return r.scopeName=e,[o,P(r,...n)]}function P(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(d){const i=o.reduce((c,{useScope:a,scopeName:s})=>{const l=a(d)[`__scope${s}`];return{...c,...l}},{});return u.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return t.scopeName=n.scopeName,t}function L(e){const n=u.useRef({value:e,previous:e});return u.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}function W(e){const[n,t]=u.useState(void 0);return h(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const d=r[0];let i,c;if("borderBoxSize"in d){const a=d.borderBoxSize,s=Array.isArray(a)?a[0]:a;i=s.inlineSize,c=s.blockSize}else i=e.offsetWidth,c=e.offsetHeight;t({width:i,height:c})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else t(void 0)},[e]),n}function E(e,n){return u.useReducer((t,o)=>n[t][o]??t,e)}var _=e=>{const{present:n,children:t}=e,o=w(n),r=typeof t=="function"?t({present:o.isPresent}):u.Children.only(t),d=b(o.ref,I(r));return typeof t=="function"||o.isPresent?u.cloneElement(r,{ref:d}):null};_.displayName="Presence";function w(e){const[n,t]=u.useState(),o=u.useRef(null),r=u.useRef(e),d=u.useRef("none"),i=e?"mounted":"unmounted",[c,a]=E(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const s=g(o.current);d.current=c==="mounted"?s:"none"},[c]),h(()=>{const s=o.current,p=r.current;if(p!==e){const f=d.current,m=g(s);e?a("MOUNT"):m==="none"||(s==null?void 0:s.display)==="none"?a("UNMOUNT"):a(p&&f!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,a]),h(()=>{if(n){let s;const p=n.ownerDocument.defaultView??window,l=m=>{const v=g(o.current).includes(CSS.escape(m.animationName));if(m.target===n&&v&&(a("ANIMATION_END"),!r.current)){const y=n.style.animationFillMode;n.style.animationFillMode="forwards",s=p.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=y)})}},f=m=>{m.target===n&&(d.current=g(o.current))};return n.addEventListener("animationstart",f),n.addEventListener("animationcancel",l),n.addEventListener("animationend",l),()=>{p.clearTimeout(s),n.removeEventListener("animationstart",f),n.removeEventListener("animationcancel",l),n.removeEventListener("animationend",l)}}else a("ANIMATION_END")},[n,a]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:u.useCallback(s=>{o.current=s?getComputedStyle(s):null,t(s)},[])}}function g(e){return(e==null?void 0:e.animationName)||"none"}function I(e){var o,r;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function C(...e){return e.filter(Boolean).join(" ")||void 0}const S=u.forwardRef(({id:e,label:n,helperText:t,description:o,errorMessage:r,required:d=!1,children:i,className:c,...a},s)=>{const p=u.useId(),l=e??i.props.id??`field-${p}`,f=o?`${l}-description`:void 0,m=r?`${l}-error`:void 0,N={id:l,required:d??i.props.required,"aria-describedby":C(i.props["aria-describedby"],f,m),"aria-invalid":r?!0:i.props["aria-invalid"]};return x.jsxs("div",{ref:s,className:O("space-y-2",c),...a,children:[n?x.jsx(M,{htmlFor:l,helperText:t,requiredMarker:d,children:n}):null,o?x.jsx("p",{id:f,className:"text-[var(--font-size-sm)] text-[var(--color-text-secondary)]",children:o}):null,u.cloneElement(i,N),r?x.jsx("p",{id:m,className:"text-[var(--font-size-sm)] text-[var(--color-danger-500)]",children:r}):null]})});S.displayName="FormField";try{S.displayName="FormField",S.__docgenInfo={description:"",displayName:"FormField",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}}}}}catch{}export{S as F,_ as P,W as a,q as c,L as u};
