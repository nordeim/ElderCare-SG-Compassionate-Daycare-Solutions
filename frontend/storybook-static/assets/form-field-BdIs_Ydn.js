import{r as i}from"./index-Dm8qopDP.js";import{j as A}from"./jsx-runtime-CmtfZKef.js";import{u as y}from"./index-B1McFu0M.js";import{u as b}from"./index-LbsB4HyV.js";import{L as E}from"./label-CckRZuQa.js";import{c as M}from"./utils-CytzSlOG.js";function L(e,t=[]){let n=[];function o(d,s){const c=i.createContext(s),u=n.length;n=[...n,s];const a=l=>{var h;const{scope:m,children:f,...N}=l,v=((h=m==null?void 0:m[e])==null?void 0:h[u])||c,x=i.useMemo(()=>N,Object.values(N));return A.jsx(v.Provider,{value:x,children:f})};a.displayName=d+"Provider";function p(l,m){var v;const f=((v=m==null?void 0:m[e])==null?void 0:v[u])||c,N=i.useContext(f);if(N)return N;if(s!==void 0)return s;throw new Error(`\`${l}\` must be used within \`${d}\``)}return[a,p]}const r=()=>{const d=n.map(s=>i.createContext(s));return function(c){const u=(c==null?void 0:c[e])||d;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return r.scopeName=e,[o,O(r,...t)]}function O(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(d){const s=o.reduce((c,{useScope:u,scopeName:a})=>{const l=u(d)[`__scope${a}`];return{...c,...l}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function W(e){const t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function $(e){const[t,n]=i.useState(void 0);return y(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const d=r[0];let s,c;if("borderBoxSize"in d){const u=d.borderBoxSize,a=Array.isArray(u)?u[0]:u;s=a.inlineSize,c=a.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}function P(e,t){return i.useReducer((n,o)=>t[n][o]??n,e)}var _=e=>{const{present:t,children:n}=e,o=w(t),r=typeof n=="function"?n({present:o.isPresent}):i.Children.only(n),d=b(o.ref,I(r));return typeof n=="function"||o.isPresent?i.cloneElement(r,{ref:d}):null};_.displayName="Presence";function w(e){const[t,n]=i.useState(),o=i.useRef(null),r=i.useRef(e),d=i.useRef("none"),s=e?"mounted":"unmounted",[c,u]=P(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const a=g(o.current);d.current=c==="mounted"?a:"none"},[c]),y(()=>{const a=o.current,p=r.current;if(p!==e){const m=d.current,f=g(a);e?u("MOUNT"):f==="none"||(a==null?void 0:a.display)==="none"?u("UNMOUNT"):u(p&&m!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,u]),y(()=>{if(t){let a;const p=t.ownerDocument.defaultView??window,l=f=>{const v=g(o.current).includes(CSS.escape(f.animationName));if(f.target===t&&v&&(u("ANIMATION_END"),!r.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",a=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=f=>{f.target===t&&(d.current=g(o.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{p.clearTimeout(a),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(a=>{o.current=a?getComputedStyle(a):null,n(a)},[])}}function g(e){return(e==null?void 0:e.animationName)||"none"}function I(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function C(...e){return e.filter(Boolean).join(" ")||void 0}const S=i.forwardRef(({id:e,label:t,helperText:n,description:o,errorMessage:r,required:d=!1,children:s,className:c,...u},a)=>{const p=i.useId(),l=e??s.props.id??`field-${p}`,m=o?`${l}-description`:void 0,f=r?`${l}-error`:void 0,N={id:l,required:d??s.props.required,"aria-describedby":C(s.props["aria-describedby"],m,f),"aria-invalid":r?!0:s.props["aria-invalid"]};return i.createElement("div",{ref:a,className:M("space-y-2",c),...u},t?i.createElement(E,{htmlFor:l,helperText:n,requiredMarker:d},t):null,o?i.createElement("p",{id:m,className:"text-[var(--font-size-sm)] text-[var(--color-text-secondary)]"},o):null,i.cloneElement(s,N),r?i.createElement("p",{id:f,className:"text-[var(--font-size-sm)] text-[var(--color-danger-500)]"},r):null)});S.displayName="FormField";try{S.displayName="FormField",S.__docgenInfo={description:"",displayName:"FormField",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}}}}}catch{}export{S as F,_ as P,$ as a,L as c,W as u};
